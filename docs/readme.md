# Documentation manual

This is a manual which specifies how to compile the documentation into `html` and `pdf` formats. Instructions only for Ubuntu.

The documentation is autogenerated from docstrings using `pydoc3` package and enriched by markdown files. Docstrings are written in [numpydoc](https://numpydoc.readthedocs.io/en/latest/format.html) style and markdown files are written in [GitLab flavour](https://about.gitlab.com/handbook/markdown-guide/) with support for [emojis](https://www.webfx.com/tools/emoji-cheat-sheet/) and with [KaTeX](https://github.com/KaTeX/KaTeX) subset of LaTeX for rendering math notation.


## Dependencies
Make sure to have the `[dev]` dependencies installed as specified in the main readme file of the documentation. For pdf output, additional packages need to be installed:
```
sudo apt install texlive-latex-recommended
sudo apt install texlive-latex-extra
sudo apt install texlive-xetex
```

## Development
To interactively review changes in the documentation while developing the package use the pdoc server:
```
pdoc . --http localhost:8080 --config latex_math=True
```

## Compilation

### :page_with_curl: HTML output

```
pdoc . --html --output-dir docs --force --config latex_math=True
```

### :notebook_with_decorative_cover: PDF output
```
pdoc . --pdf | pandoc --metadata=title:"Redistributor Documentation" --from=markdown+abbreviations+tex_math_single_backslash --pdf-engine=xelatex --variable=mainfont:"DejaVu Sans" --toc --toc-depth=4 --output=docs/redistributor.pdf
```
